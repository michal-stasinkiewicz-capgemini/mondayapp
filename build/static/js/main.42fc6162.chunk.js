(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{122:function(e,t,n){},165:function(e,t,n){e.exports=n(329)},171:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);n(166);var a=n(0),c=n.n(a),r=n(35),l=n.n(r),i=(n(171),n(122),n(93)),o=n.n(i),u=(n(187),n(330)),s=n(156),m=n(65),d=n(118),f=n.n(d),b=o()(),p=n(102),E=n.n(p),h=n(333),v=n(332),g=n(56),y=n(331),j=function(e){var t=Object(a.useState)(f()("#00ca72")),n=Object(m.a)(t,2),r=n[0],l=n[1],i=Object(a.useState)(new Date),o=Object(m.a)(i,2),u=o[0],d=o[1],p=Object(a.useState)({me:{name:"Stranger"}}),j=Object(m.a)(p,2),O=j[0],k=j[1],S=Object(a.useState)([]),w=Object(m.a)(S,2),x=w[0],N=w[1],q=Object(a.useState)([]),I=Object(m.a)(q,2),_=I[0],z=I[1],B=Object(a.useState)(),D=Object(m.a)(B,2),W=D[0],A=D[1],C=Object(a.useRef)(null);Object(a.useEffect)((function(){F(),R()}),[]);var H,J,F=function(){b.listen("settings",(function(e){var t=e.data;t.background&&l(f()(t.background)),t.date&&d(new Date(t.date))}))},R=function(){b.api("query { me { name } }").then((function(e){if(e){var t=e.data;t.me&&k({me:{name:t.me.name}})}}))},$=function(e){var t=e&&e.map((function(e){return{title:e.title,dataIndex:e.title,key:e.title}})).filter((function(e){return"Subitems"!=e.title}));return t.splice(0,0,{title:"id",dataIndex:"id",key:"id"}),t};return c.a.createElement("div",{className:"App",style:{background:r.hex()}},c.a.createElement(h.b,{className:"centered"},c.a.createElement("span",null,"Hello, ",O.me.name,"!"),c.a.createElement(E.a,{type:"vertical"}),c.a.createElement("span",null,"Selected date: ",u.toDateString(),"!")),c.a.createElement(E.a,{type:"horizontal"}),c.a.createElement(h.b,{className:"centered"},"Board Id:",c.a.createElement(v.a,{style:{minWidth:200},ref:C}),c.a.createElement(g.a,{onClick:function(){var e;(e=C.current.value)&&(A(!0),z([]),N([]),b.api("query {  \n        boards (ids: ".concat(e,") {\n          name\n          state\n          columns {\n            title\n            type\n          }  \n          board_folder_id\n          items {\n            id\n            name\n            column_values {\n              text\n            }\n          }\n        }\n      }")).then((function(e){var t=e.data.boards;e&&z($(t[0].columns)),e&&N(t),A(!1)})).catch((function(e){return A(!1)})))}},"Search")),c.a.createElement(E.a,{type:"horizontal"}),c.a.createElement(h.b,null,x&&x.length>0&&c.a.createElement(y.a,{columns:_,dataSource:(H=_,J=x[0].items,J.map((function(e){return e.column_values.map((function(e,t){return Object(s.a)({},"".concat(H[t].title),e.text)}))})).map((function(e){return e.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{})}))),size:"small",loading:W})))},O=(u.a.Header,u.a.Content),k=function(){return c.a.createElement(u.a,{hasSider:!0},c.a.createElement(u.a,{className:"site-layout"},c.a.createElement(O,{style:{overflow:"initial"}},c.a.createElement("div",{className:"site-layout-background",style:{padding:1,textAlign:"center"}},c.a.createElement(j,null)))))},S=(o()(),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[165,1,2]]]);
//# sourceMappingURL=main.42fc6162.chunk.js.map